CreateRoleSender=Class.extern(function(){this.sendCreateRole=function(a,b,c){var d=window.bdbrowser?1:0,e="{cmd="+NETCMD.CREATEROLE+',subcmd=0,rname="'+b+'",icon='+c+",bd="+d+"}";a.send(null,e)},this.sendCheckName=function(a,b){var c="CreateRoleSender.sendCheckName";a.regSendDelay(c,100);var d="{cmd="+NETCMD.CREATEROLE+',subcmd=1,rname="'+b+'"}';a.send(c,d)},this.sendGetRandName=function(a,b){var c="{cmd="+NETCMD.CREATEROLE+",subcmd=2,sex="+b+"}";a.send(null,c)},this.sendGetRandPos=function(a){var b="{cmd="+NETCMD.CREATEROLE+",subcmd=3}";a.send(null,b)},this.sendSetPos=function(a,b){var c="{cmd="+NETCMD.CREATEROLE+",subcmd=4,x="+b.x+",y="+b.y+"}";a.send(null,c)}}).snew(),FarmSender=Class.extern(function(){var a=null,b=null;this.init=function(a){b=this},this.initg=function(b){a=b},this.sendGetFarm=function(b,c){var d="{cmd="+NETCMD.FARM+",subcmd=1,ver="+b+",roleId="+c+"}";a.send(null,d)},this.sendCompleteFarmBlocks=function(b,c){if(c.length==0)return;var d="";for(var e=0;e<c.length;++e)d!=""&&(d+=","),d+=c[e];var f="{cmd="+NETCMD.FARM+",subcmd=3,uid="+b+",ids={"+d+"}}";a.send(null,f)},this.sendGetFarmLog=function(b){var c="{cmd="+NETCMD.FARM+",subcmd=4,ver="+b+"}";a.send(null,c)},this.sendGatherFarmRes=function(b,c){var d="{cmd="+NETCMD.FARM+",subcmd=5,roleId="+b+",blockId="+c+"}";a.send(null,d)},this.sendGatherAllFarmRes=function(b){var c="{cmd="+NETCMD.FARM+",subcmd=6,roleId="+b+"}";a.send(null,c)},this.sendPreGatherFarmRes=function(b,c){var d="{cmd="+NETCMD.FARM+",subcmd=7,roleId="+b+",blockId="+c+"}";a.send(null,d)},this.sendInitFarm=function(b,c){var d="{cmd="+NETCMD.FARM+",subcmd=8,roleId="+b+",blockId="+c+"}";a.send(null,d)},this.sendInputFarm=function(b,c){var d="{cmd="+NETCMD.FARM+",subcmd=9,blockId="+b+",resid="+c+"}";a.send(null,d)},this.sendGetCanGatherFlags=function(a,b,c){if(b.length==0)return;var d="cmd_getcangatherflags"+c;a.regSendDelay(d,200);var e="";for(var f=0;f<b.length;++f)e+=",id"+(f+1)+"="+b[f];var g="{cmd="+NETCMD.FARM+",subcmd=10,count="+b.length+e+"}";a.send(d,g)}}).snew(),HeroSender=Class.extern(function(){this.sendGetAllHeros=function(b){var c="subcmd=0";b.send(null,a(c))},this.sendGetDetail=function(b,c){var d="cmd_getherodetail_"+c;b.regSendDelay(d,10);var e="subcmd=1,id="+c;b.send(d,a(e))},this.sendFire=function(b,c){var d="subcmd=8,id="+c;b.send(null,a(d))},this.sendLock=function(b,c){var d="subcmd=33,id="+c;b.send(null,a(d))},this.sendUnLock=function(b,c){var d="subcmd=34,id="+c;b.send(null,a(d))},this.sendChangeName=function(b,c,d){var e="subcmd=2,id="+c+',name="'+d+'"';b.send(null,a(e))},this.sendTreatment=function(b,c){var d="subcmd=35,id="+c;b.send(null,a(d))},this.sendTreatments=function(b,c){var d=0,e="";for(var f=0;f<c.length;++f){var g=c[f];if(g==0)continue;var h=d+1;e+=",id"+h+"="+g,d++}var i="cmd_herostreatments";b.regSendDelay(i,50);var j="subcmd=44,count="+d+e;b.send(i,a(j))},this.sendAssignPP=function(b,c,d){var e="subcmd=4,id="+c+d;b.send(null,a(e))},this.sendClearPP=function(b,c){var d="subcmd=6,id="+c;b.send(null,a(d))},this.sendConge=function(b,c){var d="subcmd=36,id="+c;b.send(null,a(d))},this.sendConfer=function(b,c,d){var e="subcmd=37,id="+c+",official="+d;b.send(null,a(e))},this.sendSteelSkeleton=function(b,c){var d="subcmd=39,id="+c;b.send(null,a(d))},this.sendInsightSkill=function(b,c){var d="subcmd=40,id="+c;b.send(null,a(d))},this.sendSkillSteel=function(b,c,d,e){var f="subcmd=41,id="+c+",skillid="+d+",stime="+e;b.send(null,a(f))},this.sendWearTSkill=function(b,c,d){var e="subcmd=43,id="+c+",skillid="+d;b.send(null,a(e))},this.sendUnWearTSkill=function(b,c,d){var e="subcmd=45,id="+c;b.send(null,a(e))},this.sendWearArm=function(b,c,d){var e="subcmd=46,heroId="+c+",itemId="+d;b.send(null,a(e))},this.sendUnWearArm=function(b,c,d){var e="subcmd=47,heroId="+c+",armPos="+d;b.send(null,a(e))},this.sendStopHeroSteel=function(b,c){var d="subcmd=48,heroId="+c;b.send(null,a(d))},this.sendStopAllHerosSteel=function(b){var c="subcmd=48,heroId=-1";b.send(null,a(c))},this.sendHerosSteel=function(b,c,d,e,f){var g="";for(var h=0;h<d.length;++h)g+=",hid"+(h+1)+"="+d[h].id,g+=",sq"+(h+1)+"="+e[h],g+=",eff"+(h+1)+"="+(f&&f[h].cur?1:0);var i=0;c=="highsteel"?i=1:c=="vip1steel"?i=2:c=="vip2steel"&&(i=3),g="subcmd=49,steelType="+i+",count="+d.length+g,b.send(null,a(g))},this.sendUpgradeNAttr=function(b,c){var d="subcmd=50,heroId="+c;b.send(null,a(d))};var a=function(a){return"{cmd="+NETCMD.HERORES+","+a+"}"}}).snew(),RoleSender=Class.extern(function(){this.sendSavePP=function(b,c){var d="subcmd=2"+c;b.send(null,a(d))},this.sendChangeCity=function(b,c){var d="subcmd=3,cid="+c;b.send(null,a(d))},this.sendClearPP=function(b,c,d){var e="subcmd=4,fval="+c+",pval="+d;b.send(null,a(e))},this.sendAssignExp=function(b,c,d){var e="subcmd=5,heroid="+c+",exp="+d;b.send(null,a(e))},this.sendSelfSign=function(b,c){var d='subcmd=6,intr="'+c+'"';b.send(null,a(d))},this.sendSearchRoleForRank=function(b,c){var d="RoleSender.sendSearchRoleForRank";b.regSendDelay(d,300);var e='subcmd=7,role="'+c+'"';b.send(d,a(e))},this.sendGetPageRankRoles=function(b,c){var d="RoleSender.sendGetPageRankRoles";b.regSendDelay(d,300);var e="subcmd=8,pageNo="+c;b.send(d,a(e))};var a=function(a){return"{cmd="+NETCMD.ROLEBASE+","+a+"}"}}).snew(),UseItemSender=Class.extern(function(){this.send=function(a,b,c,d){var e="{cmd="+NETCMD.USEITEM+",id="+b.id+",resid="+b.resid+",number="+c;for(k in d)TQ.getTypeof(d[k])=="string"?e+=",t"+k+'="'+d[k]+'"':e+=",t"+k+"="+d[k];e+="}",a.send(null,e)}}).snew(),CultureSender=Class.extern(function(){this.sendGetCultures=function(b){var c="subcmd=1";b.send(null,a(c))},this.sendLearn=function(b,c){var d="subcmd=2,id="+c;b.send(null,a(d))},this.sendCancelLearn=function(b){var c="subcmd=3";b.send(null,a(c))};var a=function(a){return"{cmd="+NETCMD.CULTURE+","+a+"}"}}).snew(),MilitarySender=Class.extern(function(){this.sendGetMilitary=function(a){a.send(null,b("subcmd=0"))},this.sendExped=function(a,c,d,e,f){var g="subcmd=1";g+=this.makeExpedStr(c,d,e,f),a.send(null,b(g))},this.makeExpedStr=function(b,c,d,e){var f="";return f+=",ttype="+b.type,f+=",tid="+b.id,f+=",expedType="+c,f+=",lineup="+d,f+=a(e),f},this.sendDelFavoriteTarget=function(a,c){var d="subcmd=2,id="+c;a.send(null,b(d))},this.sendDefaultTeam=function(c,d,e,f){var g="subcmd=3";g+=",teamid="+d,g+=",lineup="+e,g+=a(f),c.send(null,b(g))},this.sendGetAllArmys=function(a){a.send(null,b("subcmd=4"))},this.sendCallBackArmy=function(a,c){a.send(null,b("subcmd=5,armyId="+c))},this.sendRepatriateArmy=function(a,c){a.send(null,b("subcmd=6,armyId="+c))},this.sendAddFavorite=function(a,c){a.send(null,b("subcmd=7,gridId="+c))},this.sendDeclareFight=function(a,c){a.send(null,b("subcmd=8,targetId="+c))},this.sendGetFavorites=function(a){a.send(null,b("subcmd=9"))},this.sendSaveForceLineUp=function(c,d,e,f){var g="subcmd=10";g+=",type="+d,g+=",lineup="+e,g+=a(f),c.send(null,b(g))},this.sendGetForceLineUp=function(a){a.send(null,b("subcmd=11"))},this.makeHeros=function(b){return a(b)};var a=function(a){var b="";for(var c=0;c<a.length;++c){var d=a[c];b+=",hid"+(c+1)+"="+d}return",count="+a.length+b},b=function(a){return"{cmd="+NETCMD.MILITARY+","+a+"}"}}).snew(),MailSender=Class.extern(function(){this.sendGetMails=function(b){b.send(null,a("subcmd=1"))},this.sendGetDetailMail=function(b,c){b.send(null,a("subcmd=2,id="+c))},this.sendMail=function(b,c,d,e){var f=TQ.encodeMsgByBytesLimit(d,JVALID.getMaxMailTitleBytes()),g=TQ.encodeMsgByBytesLimit(e,JVALID.getMaxMailContentBytes());b.send(null,a('subcmd=3,to="'+c+'",title="'+f+'",msg="'+g+'"'))},this.sendDelMails=function(b,c){if(c.length==0)return;var d="";for(var e=0;e<c.length;++e)d+=",id"+(e+1)+"="+c[e];b.send(null,a("subcmd=4,cnt="+c.length+d))},this.sendGetItems=function(b,c){b.send(null,a("subcmd=5,id="+c))};var a=function(a){return"{cmd="+NETCMD.MAIL+","+a+"}"}}).snew(),MapSender=Class.extern(function(){this.sendEnterCity=function(a,b){var c="{cmd="+NETCMD.MAP+",subcmd=1,id="+b+"}";a.send(null,c)}}).snew(),ShopSender=Class.extern(function(){this.sendBuyItem=function(b,c,d,e){var f="subcmd=1,paytype="+c+",id="+e.id+",resid="+e.resid+",num="+d;b.send(null,a(f))},this.sendGetShopSalesList=function(b){b.send(null,a("subcmd=2"))},this.sendSaleItem=function(b,c){var d="subcmd=3,id="+c.id;b.send(null,a(d))},this.sendBuyGold=function(b,c,d){var e="subcmd=4,id="+c+",number="+d;b.send(null,a(e))};var a=function(a){return"{cmd="+NETCMD.SHOP+","+a+"}"}}).snew(),ItemOpSender=Class.extern(function(){this.sendDecomposeIds=function(b,c){var d="";for(var e=0;e<c.length;++e)d+=",id"+(e+1)+"="+c[e];d="count="+c.length+d,b.send(null,a("subcmd=1,"+d))},this.sendIntensifyArm=function(b,c,d){b.send(null,a("subcmd=2,hid="+c+",id="+d))},this.sendBesetGem=function(b,c,d,e,f){b.send(null,a("subcmd=3,hid="+c+",id="+d+",gpos="+e+",gid="+f))},this.sendUnbesetGem=function(b,c,d,e){b.send(null,a("subcmd=4,hid="+c+",id="+d+",gpos="+e))},this.sendUnbesetAllGems=function(a,b,c){this.sendUnbesetGem(a,b,c,-1)},this.sendCombineGems=function(b,c,d,e){b.send(null,a("subcmd=5,gid="+c+",clevel="+d+",batch="+(e?1:0)))},this.sendUpgradeGem=function(b,c,d,e,f){b.send(null,a("subcmd=6,hid="+c+",id="+d+",gpos="+e+",gid="+f))},this.sendDropItem=function(b,c){b.send(null,a("subcmd=7,id="+c.id))};var a=function(a){return"{cmd="+NETCMD.ITEMOP+","+a+"}"}}).snew(),OutFieldSender=Class.extern(function(){var a=120,b=null;this.init=function(){b=this},this.sendGetFieldsByPos=function(b,d){var e="cmd_getfieldsbypos";b.regSendDelay(e,a),b.send(e,c("subcmd=1,posX="+d.x+",posY="+d.y))},this.sendGetFieldDetail=function(a,b){a.send(null,c("subcmd=2,gridId="+b))},this.sendGetFieldDetailByRole=function(a,b){a.send(null,c('subcmd=2,roleName="'+b+'"'))},this.sendRefreshFieldsByLastViewPos=function(a){a.send(null,c("subcmd=3"))},this.sendEnterOutField=function(a){a.send(null,c("subcmd=4"))};var c=function(a){return"{cmd="+NETCMD.OUTFIELD+","+a+"}"}}).snew(),FriendSender=Class.extern(function(){this.sendGetAllFriends=function(b){b.send(null,a("subcmd=1"))},this.sendApplyFriend=function(b,c){if(b.getImgr().hasFriend(c))b.getGUI().sysMsgTips(SMT_NORMAL,rstr.ids[100045].msg);else{var d="cmd_applyfriend";b.regSendDelay(d,500),b.send(d,a('subcmd=2,name="'+c+'"')),b.getGUI().sysMsgTips(SMT_NORMAL,rstr.ids[100059].msg)}},this.sendAgreeApplyFriend=function(b,c){b.send(null,a("subcmd=3,id="+c))},this.sendRejectApplyFriend=function(b,c){b.send(null,a("subcmd=4,id="+c))},this.sendDeleteFriend=function(b,c){b.send(null,a("subcmd=5,id="+c))},this.sendFriendChat=function(b,c,d){b.send(null,a("subcmd=6,id="+c+',msg="'+d+'"'))};var a=function(a){return"{cmd="+NETCMD.FRIEND+","+a+"}"}}).snew(),SelfFieldSender=Class.extern(function(){this.sendGetAllSelfFields=function(b){b.send(null,a("subcmd=0"))},this.sendStartCollect=function(b,c){b.send(null,a("subcmd=1,fieldId="+c))},this.sendStopCollect=function(b,c){b.send(null,a("subcmd=2,fieldId="+c))},this.sendGiveUpField=function(b,c){b.send(null,a("subcmd=3,fieldId="+c))},this.sendRecallArmy=function(b,c){b.send(null,a("subcmd=4,fieldId="+c))},this.sendGetCanGetRes=function(b,c){b.send(null,a("subcmd=5,fieldId="+c))};var a=function(a){return"{cmd="+NETCMD.SELFFIELD+","+a+"}"}}).snew(),CityBuildSender=Class.extern(function(){this.sendGetAllBuilds=function(b,c){b.send(null,a("subcmd=1,cid="+c))},this.sendAddBuild=function(b,c,d,e){b.send(null,a("subcmd=2,cid="+c+",id="+d+",resid="+e))},this.sendUpgradeBuild=function(b,c,d){b.send(null,a("subcmd=3,cid="+c+",id="+d))},this.sendDownBuild=function(b,c,d){b.send(null,a("subcmd=4,cid="+c+",id="+d))},this.sendCancelBuild=function(b,c,d){b.send(null,a("subcmd=5,cid="+c+",id="+d))},this.sendCreateSubCity=function(b,c,d){b.send(null,a("subcmd=6,id="+c+",type="+d))},this.sendChangeSubCity=function(b,c,d){b.send(null,a("subcmd=7,id="+c+",type="+d))};var a=function(a){return"{cmd="+NETCMD.BUILDRES+","+a+"}"}}).snew(),AlliBuildSender=Class.extern(function(){this.sendUpgrade=function(b,c){b.send(null,a("subcmd=8,id="+c))},this.sendStop=function(b,c){b.send(null,a("subcmd=9,id="+c))};var a=function(a){return"{cmd="+NETCMD.BUILDRES+","+a+"}"}}).snew(),CityDefSender=Class.extern(function(){this.sendGetCityDefInfo=function(a){a.send(null,b("subcmd=1"))},this.sendCancelBuilding=function(a){a.send(null,b("subcmd=2"))},this.sendBuildCityDef=function(a,c,d){var e=CITYDEF_TYPE.FIRST+c;a.send(null,b("subcmd=3,type="+e+",number="+d))},this.sendDownCityDef=function(a,c,d){var e=CITYDEF_TYPE.FIRST+c;a.send(null,b("subcmd=4,type="+e+",number="+d))},this.sendSaveDefArmy=function(c,d,e){c.send(null,b("subcmd=5,lineup="+d+a(e)))};var a=function(a){var b="";for(var c=0;c<a.length;++c){var d=a[c];b+=",hid"+(c+1)+"="+d}return",count="+a.length+b},b=function(a){return"{cmd="+NETCMD.CITYDEF+","+a+"}"}}).snew(),BaseSender=Class.extern(function(){this.makeAssignSoldiers=function(a){var b="";for(var c=0;c<a.length;++c){var d=a[c];b+=",hid"+(c+1)+"="+d.id,b+=",sid"+(c+1)+"="+d.resid,b+=",snum"+(c+1)+"="+d.number}return b="count="+a.length+b,b}}),SoldierSender=BaseSender.extern(function(){this.sendGetSoldiers=function(a){var b="{cmd="+NETCMD.SOLDIERRES+",subcmd=1}";a.send(null,b)},this.sendTraining=function(a,b,c){var d="{cmd="+NETCMD.SOLDIERRES+",subcmd=2,id="+b+",num="+c+"}";a.send(null,d)},this.sendUpgrade=function(a,b,c){var d="{cmd="+NETCMD.SOLDIERRES+",subcmd=3,id="+b+",num="+c+"}";a.send(null,d)},this.sendDemob=function(a,b,c){var d="{cmd="+NETCMD.SOLDIERRES+",subcmd=4,id="+b+",num="+c+"}";a.send(null,d)},this.sendConfirmSoldiersAssign=function(b,c){if(!c||c.length==0)return;var d="cmd_confirmsoldiersassign";b.regSendDelay(d,50);var e="subcmd=8,"+this.makeAssignSoldiers(c);b.send(d,a(e))};var a=function(a){return"{cmd="+NETCMD.SOLDIERRES+","+a+"}"}}).snew(),TowerSender=BaseSender.extern(function(){this.sendConfirmSoldiersAssign=function(b,c){if(!c||c.length==0)return;b.send(null,a("subcmd=1,"+this.makeAssignSoldiers(c)))};var a=function(a){return"{cmd="+NETCMD.TOWER+","+a+"}"}}).snew(),ExchangeHeroExpSender=Class.extern(function(){this.sendGetTimes=function(b){b.send(null,a("subcmd=1"))},this.sendExchange=function(b,c){b.send(null,a("subcmd=2,times="+c))};var a=function(a){return"{cmd="+NETCMD.EXCHANGEEXP+","+a+"}"}}).snew(),FightResStateSender=Class.extern(function(){this.sendGetRefStates=function(b){b.send(null,a("subcmd=1"))};var a=function(a){return"{cmd="+NETCMD.FIGHTREFSTATE+","+a+"}"}}).snew(),RoleStateSender=Class.extern(function(){this.getAllStates=function(b){b.send(null,a("subcmd=1"))},this.cancelState=function(b,c){b.send(null,a("subcmd=2,state="+c))};var a=function(a){return"{cmd="+NETCMD.ROLESTATE+","+a+"}"}}).snew(),ChatSender=Class.extern(function(){this.init=function(){this.lastTimes={},this.lastTimes[CHAT_TARGET.WORLD]={lastTime:0,limitTime:15e3,errorTip:rstr.chatpanel.tooFrequency.world},this.lastTimes[CHAT_TARGET.STATE]={lastTime:0,limitTime:5e3,errorTip:rstr.chatpanel.tooFrequency.state},this.lastTimes[CHAT_TARGET.ALLIANCE]={lastTime:0,limitTime:1e4,errorTip:rstr.chatpanel.tooFrequency.alliance},this.lastTimes[CHAT_TARGET.PLAYER]={lastTime:0,limitTime:5e3,errorTip:rstr.chatpanel.tooFrequency.player}},this.sendMsg=function(a,b,c){if(this._isTooFrequency(a,b,c))return;this._updateLastTimes(a,b,c),c=this._encodeMessage(c),a.send(null,this._makeMsg("subcmd=0,target="+b+',msg="'+c+'"'))},this._makeMsg=function(a){return"{cmd="+NETCMD.CHAT+","+a+"}"},this._isTooFrequency=function(a,b,c){var d=this.lastTimes[this._getCheckTarget(b,c)];return a.getCurTimeMs()-d.lastTime<=d.limitTime?(UIM.getPanel("chat").appendMsgToCurChannel(d.errorTip),!0):!1},this._updateLastTimes=function(a,b,c){var d=this.lastTimes[this._getCheckTarget(b,c)];d.lastTime=a.getCurTimeMs()},this._encodeMessage=function(a){return a=a.replace('"',"'"),a=a.replace("\n"," "),a.replace("\r"," ")},this._getCheckTarget=function(a,b){return b.indexOf("/")==0?CHAT_TARGET.PLAYER:a}}).snew(),AllianceSender=Class.extern(function(){this.sendCreateAlli=function(b,c,d){b.send(null,a('subcmd=1,name="'+c+'",flag="'+d+'"'))},this.sendApplyJoin=function(b,c){b.send(null,a('subcmd=2,name="'+c+'"'))},this.sendGetCurApplying=function(b){b.send(null,a("subcmd=3"))},this.sendGetAllianceDetail=function(b,c){b.send(null,a('subcmd=4,name="'+c+'"'))},this.sendGetInviteList=function(b){b.send(null,a("subcmd=5"))},this.sendAgreeInvite=function(b,c,d){b.send(null,a("subcmd=6,roleId="+c+",alliId="+d))},this.sendIgnoreInvite=function(b,c,d){b.send(null,a("subcmd=7,roleId="+c+",alliId="+d))},this.sendGetAlliList=function(b,c,d){var e="cmd_alli_sendGetAlliList";b.regSendDelay(e,300),b.send(e,a("subcmd=8,cityResId="+c+",pageNo="+d))},this.sendSearchAlliance=function(b,c,d){var e="cmd_alli_sendSearchAlliance";b.regSendDelay(e,300),b.send(e,a("subcmd=9,cityResId="+c+',name="'+d+'"'))},this.sendGetSelfMems=function(b,c){var d="cmd_alli_sendGetSelfMems";b.regSendDelay(d,300),b.send(d,a("subcmd=10,pageNo="+c))},this.sendGetOtherMems=function(b,c,d){var e="cmd_alli_sendGetOtherMems";b.regSendDelay(e,300),b.send(e,a('subcmd=11,name="'+c+'",pageNo='+d))},this.sendGetMyAllianceDetail=function(b){b.send(null,a("subcmd=12"))},this.sendUpgradeAlliance=function(b){b.send(null,a("subcmd=13"))},this.sendModifyQQGroup=function(b,c){b.send(null,a("subcmd=14,qq="+c))},this.sendInvite=function(b,c){b.send(null,a('subcmd=15,role="'+c+'"'))},this.sendDismiss=function(b){b.send(null,a("subcmd=16"))},this.sendCancelDismiss=function(b){b.send(null,a("subcmd=17"))},this.sendExitAlliance=function(b){b.send(null,a("subcmd=18"))},this.sendModifyIntroduce=function(b,c){var d=TQ.encodeMsgByBytesLimit(c,JVALID.getMaxAllianceIntroduceBytes());b.send(null,a('subcmd=19,introduce="'+d+'"'))},this.sendModifyBulletin=function(b,c){var d=TQ.encodeMsgByBytesLimit(c,JVALID.getMaxAllianceBulletinBytes());b.send(null,a('subcmd=20,bulletin="'+d+'"'))},this.sendGainTodayGift=function(b){b.send(null,a("subcmd=21"))},this.sendUpgradeLawLight=function(b){b.send(null,a("subcmd=22"))},this.sendLawLightBestow=function(b){b.send(null,a("subcmd=23"))},this.sendLawLightFeed=function(b){b.send(null,a("subcmd=24,isAll=0"))},this.sendLawLightFeedAll=function(b){b.send(null,a("subcmd=24,isAll=1"))},this.sendGetALeaders=function(b){b.send(null,a("subcmd=25"))},this.sendTransferLeader=function(b,c){b.send(null,a('subcmd=26,role="'+c+'"'))},this.sendStopTransfer=function(b){b.send(null,a("subcmd=27"))},this.sendContributeRes=function(b,c,d){b.send(null,a("subcmd=28,resIdx="+c+",times="+d))},this.sendGetTodaySortMems=function(b,c){var d="cmd_alli_sendGetTodaySortMems";b.regSendDelay(d,300),b.send(d,a("subcmd=29,pageNo="+c))},this.sendGetAllSortMems=function(b,c){var d="cmd_alli_sendGetAllSortMems";b.regSendDelay(d,300),b.send(d,a("subcmd=30,pageNo="+c))},this.sendAppointMember=function(b,c,d){b.send(null,a('subcmd=31,role="'+c+'",alliPos='+d))},this.sendFireMember=function(b,c){b.send(null,a('subcmd=32,role="'+c+'"'))},this.sendAgreeApply=function(b,c){b.send(null,a("subcmd=33,roleId="+c))},this.sendIgnoreApply=function(b,c){b.send(null,a("subcmd=34,roleId="+c))},this.sendGetEvents=function(b,c){var d="cmd_alli_sendGetEvents";b.regSendDelay(d,300),b.send(d,a("subcmd=35,pageNo="+c))},this.sendGetApplyMerges=function(b){b.send(null,a("subcmd=36"))},this.sendApplyMerge=function(b,c){b.send(null,a('subcmd=37,name="'+c+'"'))},this.sendAgreeMerge=function(b,c){b.send(null,a('subcmd=38,name="'+c+'"'))},this.sendRefuseMerge=function(b,c){b.send(null,a('subcmd=39,name="'+c+'"'))},this.sendGetAuctionInfo=function(b){b.send(null,a("subcmd=40"))},this.sendAuctionBuyItem=function(b,c,d){b.send(null,a("subcmd=41,id="+c+",price="+d))},this.sendSellItem=function(b,c,d,e,f){b.send(null,a("subcmd=42,id="+c+",number="+d+",auctionPrice="+e+",fixedPrice="+f))},this.sendCancelSellItem=function(b,c){b.send(null,a("subcmd=43,id="+c))},this.sendGetSellItems=function(b){b.send(null,a("subcmd=44"))};var a=function(a){return"{cmd="+NETCMD.ALLIANCE+","+a+"}"}}).snew(),OtherPlayerSender=Class.extern(function(){this.sendGetBuildAddSpeed=function(b,c){b.send(null,a('subcmd=1,name="'+c+'"'))};var a=function(a){return"{cmd="+NETCMD.OTHERPLAYERINFO+","+a+"}"}}).snew(),TradingAreaSender=Class.extern(function(){this.sendGetMyTradingInfo=function(b){b.send(null,a("subcmd=1"))},this.sendStartTrading=function(b,c){var d=c?1:0;b.send(null,a("subcmd=2,vip="+d))},this.sendCancelTrading=function(b){b.send(null,a("subcmd=3"))},this.sendSetTradingArea=function(b,c){var d="";for(var e=0;e<c.length;++e)d+=",t"+(e+1)+"=",d+=c[e];b.send(null,a("subcmd=4,count="+c.length+d))},this.sendGetMembers=function(b){b.send(null,a("subcmd=5"))},this.sendGetMemDetail=function(b,c){var d="cmd_trading_sendGetMemDetail"+c;b.regSendDelay(d,100),b.send(d,a("subcmd=6,roleId="+c))};var a=function(a){return"{cmd="+NETCMD.TRADING_AREA+","+a+"}"}}).snew(),ActTowerSender=Class.extern(function(){this.sendGetBaseInfo=function(b){b.send(null,a("subcmd=1"))},this.sendEnterTower=function(b,c,d){var e=d?1:0;b.send(null,a("subcmd=2,startLayer="+c+",gainGift="+e))},this.sendExped=function(b,c,d,e,f){var g="subcmd=3";g+=MilitarySender.makeExpedStr(c,d,e,f),b.send(null,a(g))},this.sendLeaveTower=function(b){b.send(null,a("subcmd=4"))},this.sendStartAutoFight=function(b,c,d){b.send(null,a("subcmd=5"+MilitarySender.makeHeros(c)+",toLayer="+d))},this.sendStopAutoFight=function(b){b.send(null,a("subcmd=6"))},this.sendSearchRoleForRank=function(b,c){var d="ActTowerSender.sendSearchRoleForRank";b.regSendDelay(d,300);var e='subcmd=7,role="'+c+'"';b.send(d,a(e))},this.sendGetPageRankRoles=function(b,c){var d="ActTowerSender.sendGetPageRankRoles";b.regSendDelay(d,300);var e="subcmd=8,pageNo="+c;b.send(d,a(e))},this.sendCheckAutoFight=function(b){var c="subcmd=9";b.send("",a(c))};var a=function(a){return"{cmd="+NETCMD.ACT_TOWER+","+a+"}"}}).snew(),ActTerraceSender=Class.extern(function(){this.sendGetBaseInfo=function(b){b.send(null,a("subcmd=1"))},this.sendEnterTerrace=function(b,c){b.send(null,a("subcmd=2,gateId="+c))},this.sendExped=function(b,c,d,e,f){var g="subcmd=3";g+=MilitarySender.makeExpedStr(c,d,e,f),b.send(null,a(g))},this.sendLeaveTerrace=function(b){b.send(null,a("subcmd=4"))},this.sendStartAutoFight=function(b,c,d){b.send(null,a("subcmd=5"+MilitarySender.makeHeros(c)+",toGate="+d))},this.sendStopAutoFight=function(b){b.send(null,a("subcmd=6"))},this.sendCheckAutoFight=function(b){var c="subcmd=7";b.send("",a(c))};var a=function(a){return"{cmd="+NETCMD.ACT_TERRACE+","+a+"}"}}).snew(),TaskSender=Class.extern(function(){this.sendGetAllTasks=function(b){b.send(key,a("subcmd=0"))},this.sendGetReward=function(b,c){var d="cmd_task_sendGetReward";b.regSendDelay(d,50),b.send(d,a("subcmd=1,taskId="+c))},this.sendDoRoleTask=function(b,c){var d="cmd_task_sendDoRoleTask";b.regSendDelay(d,50),b.send(d,a("subcmd=2,taskId="+c))},this.sendChangeEverydayTask=function(b,c){var d="cmd_task_sendChangeEverydayTask";b.regSendDelay(d,50),b.send(d,a("subcmd=3,taskId="+c))},this.sendCompleteEverydayTask=function(b,c){var d="cmd_task_sendCompleteEverydayTask";b.regSendDelay(d,50),b.send(d,a("subcmd=4,taskId="+c))},this.sendGetRewardByPrestige=function(b){var c="cmd_task_sendGetRewardByPrestige";b.regSendDelay(c,50),b.send(c,a("subcmd=5"))},this.sendGetOnlineTaskReward=function(b){var c="cmd_task_sendGetOnlineTaskReward";b.regSendDelay(c,50),b.send(c,a("subcmd=6"))},this.sendGetOnlineTaskInfo=function(b){b.send(null,a("subcmd=7"))},this.sendAddFavorite=function(b){b.send(null,a("subcmd=8"))},this.sendNewcomerTaskEnd=function(b){b.send(null,a("subcmd=9"))};var a=function(a){return"{cmd="+NETCMD.TASK+","+a+"}"}}).snew(),ActivityValSender=Class.extern(function(){this.sendGetAllInfo=function(b){var c="cmd_ActivityValSender.sendGetAllInfo";b.regSendDelay(c,1e3),b.send(c,a("subcmd=1"))},this.sendGetActReward=function(b,c){var d="cmd_ActivityValSender.sendGetActReward."+c;b.regSendDelay(d,50),b.send(d,a("subcmd=2,id="+c))},this.sendSignIn=function(b){var c="cmd_ActivityValSender.sendSignIn";b.regSendDelay(c,50),b.send(c,a("subcmd=3"))},this.sendGetSignReward=function(b,c){var d="cmd_ActivityValSender.sendGetSignReward."+c;b.regSendDelay(d,50),b.send(d,a("subcmd=4,id="+c))},this.sendGetOnlineGoods=function(b){b.send(null,a("subcmd=5"))},this.sendGetPayActReward=function(b,c){b.send(null,a("subcmd=6,idx="+c))};var a=function(a){return"{cmd="+NETCMD.ACTIVITY_VAL+","+a+"}"}}).snew(),NewcomerHelpSender=Class.extern(function(){this.sendGetCurNode=function(b){b.send(key,a("subcmd=1"))};var a=function(a){return"{cmd="+NETCMD.NEWCOMERHELP+","+a+"}"}}).snew(),ItemInfoSender=Class.extern(function(){this.sendGetDetailItem=function(b,c,d){b.send(null,a("subcmd=1,roleId="+c+",itemId="+d))};var a=function(a){return"{cmd="+NETCMD.ITEM+","+a+"}"}}).snew(),ExchangeSender=Class.extern(function(){this.sendExchange=function(b,c,d){b.send(null,a("subcmd=1,dropId="+c+",count="+d))};var a=function(a){return"{cmd="+NETCMD.EXCHANGE+","+a+"}"}}).snew(),LogSender=Class.extern(function(){this.sendLog=function(c,d){d=a(d),c.send(null,b("subcmd=1,browser="+TQ.getBrowserType()+",ver="+TQ.getBrowserVer()+',msg="'+d+'"'))},this.sendSuggest=function(c,d){d=a(d),c.send(null,b('subcmd=2,msg="'+d+'"'))};var a=function(a){return a=a.replace(new RegExp('"',"g")," "),a=a.replace(new RegExp("'","g")," "),a=a.replace(new RegExp("\r\n","g")," "),a=a.replace(new RegExp("\r","g")," "),a=a.replace(new RegExp("\n","g")," "),a.substr(0,512)},b=function(a){return"{cmd="+NETCMD.CLT_LOG+","+a+"}"}}).snew(),PaymentSender=Class.extern(function(){this.sendStartPay=function(a){a.send(null,this._makeMsg("subcmd=1"))},this.sendStopPay=function(a){a.send(null,this._makeMsg("subcmd=2"))},this._makeMsg=function(a){return"{cmd="+NETCMD.PAYMENT+","+a+"}"}}).snew(),YellowDiamondSender=Class.extern(function(){this.sendGetNewGift=function(a){a.send(null,this._makeMsg("subcmd=1"))},this.sendGetCommEveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=2"))},this.sendGetYearEveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=3"))},this.sendGetLevelGift=function(a,b){a.send(null,this._makeMsg("subcmd=4,id="+b))},this.sendGetInfo=function(a){a.send(null,this._makeMsg("subcmd=5"))},this._makeMsg=function(a){return"{cmd="+NETCMD.YELLOWDIAMOND+","+a+"}"}}).snew(),BlueDiamondSender=Class.extern(function(){this.sendGetNewGift=function(a){a.send(null,this._makeMsg("subcmd=1"))},this.sendGetCommEveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=2"))},this.sendGetYearEveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=3"))},this.sendGetLevelGift=function(a,b){a.send(null,this._makeMsg("subcmd=4,id="+b))},this.sendGetInfo=function(a){a.send(null,this._makeMsg("subcmd=5"))},this.sendGetHighEveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=6"))},this.sendGet3366EveryDayGift=function(a){a.send(null,this._makeMsg("subcmd=7"))},this._makeMsg=function(a){return"{cmd="+NETCMD.BLUEDIAMOND+","+a+"}"}}).snew(),DealGoldSender=Class.extern(function(){this.sendResultSucc=function(a){a.send(null,this._makeMsg("subcmd=1"))},this.sendResultCancel=function(a){a.send(null,this._makeMsg("subcmd=2"))},this._makeMsg=function(a){return"{cmd="+NETCMD.RESULT_BuyByGold+","+a+"}"}}).snew(),ClientCfgSender=Class.extern(function(){this.sendSoundFlag=function(a){var b=a.getImgr().isCanPlayBackSound()?0:1;a.send(null,this._makeMsg("subcmd=1,idx=0,flag="+b))},this.sendGongGaoVer=function(a){a.send(null,this._makeMsg("subcmd=2,ver="+res_gonggao.ver))},this.sendSetHelpTip=function(a,b){a.send(null,this._makeMsg("subcmd=3,tipId="+b))},this._makeMsg=function(a){return"{cmd="+NETCMD.CLT_CFG+","+a+"}"}}).snew(),VipSender=Class.extern(function(){this._makeMsg=function(a){return"{cmd="+NETCMD.VIP+","+a+"}"}}).snew(),AutoBuildSender=Class.extern(function(){this.sendStartBuild=function(a,b){var c="";for(var d=0;d<b.length;++d)c+=",id"+(d+1)+"=",c+=b[d];c="count="+b.length+c,a.send(null,this._makeMsg("subcmd=1,"+c))},this._makeMsg=function(a){return"{cmd="+NETCMD.AUTOBUILD+","+a+"}"}}).snew(),CDKeySender=Class.extern(function(){this.send=function(a,b){a.send(null,this._makeMsg('subcmd=1,cdkey="'+b+'"'))},this._makeMsg=function(a){return"{cmd="+NETCMD.CDKEY+","+a+"}"}}).snew(),WorldBossrSender=Class.extern(function(){this.sendGetInfo=function(a){a.send(null,this._makeMsg("subcmd=1"))},this.sendExped=function(a,b,c,d,e){var f="subcmd=2";f+=MilitarySender.makeExpedStr(b,c,d,e),a.send(null,this._makeMsg(f))},this.sendGetTodayGift=function(a){a.send(null,this._makeMsg("subcmd=3"))},this.sendGuwu=function(a,b,c){a.send(null,this._makeMsg("subcmd=4,t="+b+",times="+c))},this.sendGetPersonRankGift=function(a){a.send(null,this._makeMsg("subcmd=5"))},this.sendGetCountryRankGift=function(a){a.send(null,this._makeMsg("subcmd=6"))},this.sendGetRankInfo=function(a){a.send(null,this._makeMsg("subcmd=7"))},this.sendGetAlliGiftInfo=function(a){a.send(null,this._makeMsg("subcmd=8"))},this._makeMsg=function(a){return"{cmd="+NETCMD.WORLDBOSS+","+a+"}"}}).snew(),RewardSender=JClass.ex({sendFirstHero:function(a,b){a.send(null,this._makeMsg("subcmd=1,nameIdx="+b))},_makeMsg:function(a){return"{cmd="+NETCMD.SEND_REWARD+","+a+"}"}}).snew()