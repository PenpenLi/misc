BaseDlg=Class.extern(function(){this.g_=null,this.imgr_=null,this.dlg_=null,this.items_={},this.params_=null,this.dlgName_="",this.openListener_=null,this.init=function(a,b,c){this.g_=a,this.dlgName_=b?b:"",this.openListener_=c?c:NullCaller,this.imgr_=this.g_.getImgr(),this._init()},this.openDlg=function(a){this._initParams(a);if(!this._isCanOpen())return;this._initDlg(),this._showDlg(),this._initInfo(),this.openListener_.invoke(this.dlgName_)},this.hideDlg=function(){this.dlg_&&this.dlg_.hide()},this.isShow=function(){return this.dlg_?this.dlg_.isShow():!1},this._initParams=function(a){this.params_=a},this._initDlg=function(){if(this.dlg_)return;this._createDlg(),this._afterCreate(),this._setCallers()},this._createDlg=function(){var a=this._getDlgCfg();a.uiback=a.uiback?a.uiback:null,this.dlg_=Dialog.snew(this.g_,{modal:a.modal,title:a.title,uiback:a.uiback,btns:a.btns,pos:a.pos}),this.g_.getGUI().initDlg(this.dlg_,a.uicfg,this.items_)},this._showDlg=function(){this.dlg_.show()},this.getItems=function(){return this.items_},this.getParams=function(){return this.params_},this.getCoreDlg=function(){return this.dlg_},this._init=function(){},this._isCanOpen=function(){return!0},this._getDlgCfg=function(){},this._afterCreate=function(){},this._setCallers=function(){},this._initInfo=function(){}}),JBaseDlg=JClass.ex({_init:function(a,b,c){this.g_=a,this.dlgName_=b?b:"",this.openListener_=c?c:NullCaller,this.imgr_=this.g_.getImgr(),this.dlg_=null,this.items_={},this.params_=null,this._innerInit()},openDlg:function(a){this._initParams(a);if(!this._isCanOpen())return;this._initDlg(),this._showDlg(),this._initInfo(),this.openListener_.invoke(this.dlgName_)},hideDlg:function(){this.dlg_&&this.dlg_.hide()},isShow:function(){return this.dlg_?this.dlg_.isShow():!1},_initParams:function(a){this.params_=a},_initDlg:function(){if(this.dlg_)return;this._createDlg(),this._afterCreate(),this._setCallers()},_createDlg:function(){var a=this._getDlgCfg();a.uiback=a.uiback?a.uiback:null;if(a.uicfg.c_.a==22){a.modal=a.uicfg.c_.modal==1,a.uicfg.c_.title&&a.uicfg.c_.title!=""&&(a.title=a.uicfg.c_.title),a.uicfg.c_.aj&&a.uicfg.c_.aj!=""&&(a.uiback=a.uicfg.c_.aj);if(a.uicfg.c_.dlgpos&&a.uicfg.c_.dlgpos!=""){var b=a.uicfg.c_.dlgpos.split(","),c;b[0]in["center","left","right"]?c=b[0]:c=parseInt(b[0]);var d;b[1]in["top","vcenter","bottom"]?d=b[1]:d=parseInt(b[1]),a.pos={x:c,y:d}}}this.dlg_=Dialog.snew(this.g_,{modal:a.modal,title:a.title,uiback:a.uiback,pos:a.pos}),this.g_.getGUI().initDlg(this.dlg_,a.uicfg,this.items_)},_showDlg:function(){this.dlg_.show()},getItems:function(){return this.items_},getParams:function(){return this.params_},getCoreDlg:function(){return this.dlg_},_innerInit:function(){},_isCanOpen:function(){return!0},_getDlgCfg:function(){},_afterCreate:function(){},_setCallers:function(){},_initInfo:function(){}}),ListenerBaseDlg=Class.extern(function(){this.dlgName_="",this.openListener_=null,this.imgr_=null,this.init=function(a,b,c){this.g_=a,this.dlgName_=b?b:"",this.openListener_=c?c:NullCaller,this.imgr_=this.g_.getImgr(),this._init(a)},this._notifyOpenDlg=function(){this.openListener_.invoke(this.dlgName_)}})