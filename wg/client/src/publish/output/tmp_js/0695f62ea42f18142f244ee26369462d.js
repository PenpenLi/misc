SpinBtn=function(){var a=1,b=-1,c,d,e,f,g,h,i,j,k=SCROLL_TRACE_W,l=SCROLL_TRACE_MINH;this.initialize=function(a,b){c=a,d=this,e=b},this.createLeftBtn=function(){f=TQ.createDom("div"),e.appendChild(f),f.className="ui-spin",h=new ComButton(c,f,{uiback:uiback.btn.spinprev}),h.setId(b),h.setCaller({self:d,caller:n}),h.setType(BTN_TYPE.TIMER)},this.createRightBtn=function(){g=TQ.createDom("div"),e.appendChild(g),g.className="ui-spin",i=new ComButton(c,g,{uiback:uiback.btn.spinnext}),i.setId(a),i.setCaller({self:d,caller:n}),i.setType(BTN_TYPE.TIMER)},this.setSize=function(a,b){k=a,l=b,m()},this.setCaller=function(a){j=a};var m=function(){var a=h.getDom(),b=i.getDom();TQ.setDomWidth(a,k),TQ.setDomWidth(b,k),TQ.setDomHeight(a,l),TQ.setDomHeight(b,l),TQ.setDomSize(f,k,l),TQ.setDomSize(g,k,l)},n=function(a){j&&j.caller.call(j.self,a)};this.initialize.apply(this,arguments)},FilterInput=function(){var a,b;this.initialize=function(c,d){a=c,b=d},this.filter=function(a){c(a)};var c=function(a){TQ.addEvent(b,"keypress",function(b){b=b?b:window.event,b.charCode?k=String.fromCharCode(b.charCode):k=String.fromCharCode(b.which),a.indexOf(k)!=-1&&b.preventDefault(),b.ctrlKey&&k=="v"&&b.preventDefault()}),TQ.addEvent(b,"contextmenu",function(a){return!1})};this.initialize.apply(this,arguments)},NumInput=function(){var a,b,c,d=-1,e=0,f=4294967295,g=11,h=null,i=null,j,k=!1,l=!1,m=0;this.initialize=function(c,d,i,k,l,m){a=c,b=d,TQ.addEvent(b,"keyup",n),TQ.addEvent(b,"change",o),e=i?i:e,f=k?k:f,g=m?m:g,h=l?l:null,TQ.setAttr(b,"maxlength",g),j=new FilterInput(a,b);var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ ";j.filter(p)},this.setReadOnly=function(a){b.readOnly=a},this.getVal=function(){return q()},this.setVal=function(a){a=r(a),b.value=a,c&&c.caller.call(c.self,a,m)},this.setCaller=function(a){c=a},this.setId=function(a){m=a},this.getId=function(){return m},this.setLimit=function(a){h=a?a:null},this.setLimitCaller=function(a){i=a},this.getLimit=function(){return h},this.focus=function(){b.focus()};var n=function(a){a=a?a:window.event;var b=a.which;if(b>=33||b==13){var c=this.value.length;c>=g&&a.preventDefault()}l=!1,p(a)},o=function(a){l=!0,p(a)},p=function(a){var e=q();e!=d&&(c&&c.caller.call(c.self,e,m),d=e),k&&(b.value=e,k=!1)},q=function(){var a=parseInt(b.value,10);return r(a)},r=function(a){return lt=s(),isNaN(a)&&(a=lt.min,l&&(k=!0)),a<lt.min&&(a=lt.min,k=!0),a>lt.max&&(a=lt.max,k=!0),a},s=function(){return i?i.caller.call(i.self):h?h(m):{min:e,max:f}};this.initialize.apply(this,arguments)},SpinInput=function(){var a,b,c,d,e,f=1;this.initialize=function(d,e,h,i,j,k,l){a=d,b=this,c=e,f=h?h:f,g(i,j,k,l)},this.setCaller=function(a){e.setCaller(a)},this.getVal=function(){return e.getVal()},this.setVal=function(a){e.setVal(a)},this.setId=function(a){e.setId(a)},this.setReadOnly=function(a){e.setReadOnly(a)},this.setLimit=function(a){e.setLimit(a)},this.setLimitCaller=function(a){e.setLimitCaller(a)},this.focus=function(){e.focus()},this.getDom=function(){return c};var g=function(f,g,i,j){var k=c.clientWidth,l=c.clientHeight;m_spinbtn=new SpinBtn(a,c),m_spinbtn.createLeftBtn(),d=TQ.createDom("input"),TQ.setAttr(d,"type","text"),TQ.append(c,d),m_spinbtn.createRightBtn(),TQ.setClass(d,"ui-input"),TQ.setDomSize(d,k-2*(SCROLL_TRACE_W+2),l-4);if(TQ.getDomAutoWidth(d)>k-SCROLL_TRACE_W){var m=TQ.getDomAutoWidth(d)-(k-SCROLL_TRACE_W);TQ.isIE()?TQ.setDomSize(d,k-SCROLL_TRACE_W-m-2,l-4):TQ.setDomSize(d,k-SCROLL_TRACE_W-m,l-4)}m_spinbtn.setSize(SCROLL_TRACE_W,l),e=new NumInput(a,d,f,g,i,j),m_spinbtn.setCaller({self:b,caller:h})},h=function(a){e.setVal(e.getVal()+a*f)};this.initialize.apply(this,arguments)}