SelfFieldUtil=Class.extern(function(){this.initOneTime=function(a){this.g=a},this.hasSoldiersDispatched=function(a){var b=this.getCurDispatchHero(a);return b?b.soldier.number>0:!1},this.getCurDispatchHero=function(a){var b=this.getCurDispatchArmy(a);if(!b)return null;for(var c=0;c<b.heros.length;++c){var d=b.heros[c];if(d.id>0)return d}return null},this.hasArmyDispatched=function(a){return this.getCurDispatchArmy(a)!=null},this.getCurDispatchArmy=function(a){var b=this.g.getImgr().getArmys().list;for(var c=0;c<b.length;++c){var d=b[c];if(d.armyType!=ARMY_TYPE.SELF)continue;if(d.targetType!=a.objType)continue;if(FieldUtil.getGridIdByPos(d.targetPos)!=a.gridId)continue;if(d.state!=ARMYDYN_STATE.DISPATCH)continue;return d}return null}}).snew()