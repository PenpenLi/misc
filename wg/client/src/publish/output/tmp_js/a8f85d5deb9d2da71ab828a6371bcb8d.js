DieCitySetPos=BaseDlg.extern(function(){var a=500;this._init=function(){this.g_.regEvent(EVT.NET,NETCMD.CREATEROLE,this,this._onSvrPkg)},this._getDlgCfg=function(){return{modal:!0,title:null,uiback:uiback.dlg.npc,pos:{x:"center",y:40},uicfg:uicfg.diecitysetpos}},this._setCallers=function(){this.items_.changePosBtn.setCaller({self:this,caller:this._onClickChangePos}),this.items_.confirmBtn.setCaller({self:this,caller:this._onClickConfirm})},this._afterCreate=function(){this.items_.changePosBtn.setType(BTN_TYPE.DELAY),this.items_.changePosBtn.setDelay(a),this.items_.confirmBtn.setType(BTN_TYPE.DELAY),this.items_.confirmBtn.setDelay(a)},this._initInfo=function(){this.pos_=this.params_,TQ.setTextEx(this.items_.title,rstr.dieCitySetPos.title),TQ.setTextEx(this.items_.pos_x,this.pos_.x),TQ.setTextEx(this.items_.pos_y,this.pos_.y)},this._onSvrPkg=function(a){var b=a.data;b.subid==3?(this.dlg_&&this.dlg_.hide(),UIM.getDlg("tipmsgbox").openDlg(rstr.dieCitySetPos.lbl.hasNoPos)):b.subid==4?this.openDlg(b.pos):b.subid==5?this.dlg_&&this.dlg_.hide():b.subid==6&&(UIM.getDlg("actterraceexped").reset(),UIM.getDlg("acttowerexped").reset())},this._onClickChangePos=function(){CreateRoleSender.sendGetRandPos(this.g_)},this._onClickConfirm=function(){CreateRoleSender.sendSetPos(this.g_,this.pos_)}})