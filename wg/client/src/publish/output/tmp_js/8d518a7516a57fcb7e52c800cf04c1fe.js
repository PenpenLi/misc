WorldBossAlliGiftDlg=JBaseDlg.ex({_innerInit:function(){this.g_.regEvent(EVT.WORLDBOSS,0,this,this._onWorldBossUpdate),HDRM.regHdrEx(this.g_,"worldbosssvr",WorldBossSvrHdr)},_getDlgCfg:function(){return{modal:!1,title:rstr.worldboss.allidropgiftdlg.title,pos:{x:"center",y:40},uicfg:uicfg.worldboss.allidropgiftdlg}},_initInfo:function(){WorldBossrSender.sendGetAlliGiftInfo(this.g_)},_onWorldBossUpdate:function(){if(!this.isShow())return;this._updateCon()},_updateCon:function(){var a=this.imgr_.getWorldBoss().alligifts,b="";for(var c=0;c<a.length;++c){var d=a[c];b+=TQ.format(rstr.worldboss.allidropgiftdlg.lbl.alliName,d.alli)+"<br/>";for(var e=0;e<d.drops.length;++e){var f=d.drops[e],g=ItemResUtil.findItemres(f.id),h=ItemNameColorGetter.getColorVal(g.level,g.name);b+=TQ.format(rstr.worldboss.allidropgiftdlg.lbl.dropItem,h,f.num)+"<br/>"}}TQ.setRichText(this.items_.dropsCon.getContainerObj(),b),this.items_.dropsCon.refresh()}})