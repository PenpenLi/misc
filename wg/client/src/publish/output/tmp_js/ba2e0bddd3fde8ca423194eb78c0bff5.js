ClickRoleHdr=Class.extern(function(){var a=1,b=1,c=2,d=3,e=4,f=5,g=5,h=null,i=null,j=null,k={},l=0,m="";this.init=function(a){h=a,i=this,n(rstr.clickplayer.menus),o(),p()},this.click=function(a,b,c){q(b,c),j.show(a)};var n=function(b){j=new Menu(h,{width:90});for(var c=a;c<=g;++c){if(!isCanCopyToClipboard()&&c==e)continue;j.addMenuItem({id:c,icon:null,text:b[c-a]})}},o=function(){j.setCaller({self:i,caller:r})},p=function(){k[b]=s,k[c]=t,k[d]=u,k[e]=v,k[f]=w},q=function(a,b){l=a,m=b},r=function(a){h.getGUI().hideAllMenu(),k[a]()},s=function(){UIM.getPanel("chat").setChatTarget(m)},t=function(){FriendSender.sendApplyFriend(h,m)},u=function(){var a=UIM.getDlg("writeletter");a.openDlg(),a.clear(),a.setRecv(m),a.setFocus("title")},v=function(){copyToClipboard(m)},w=function(){OutFieldSender.sendGetFieldDetailByRole(h,m)}})