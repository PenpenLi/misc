BuyGoldDlg=BaseDlg.extern(function(){this._getDlgCfg=function(){return{modal:!1,title:rstr.buyGoldDlg.title,pos:{x:"center",y:70},uicfg:uicfg.buyGoldDlg}},this._setCallers=function(){this.items_.see.setCaller({self:this,caller:this._onClickSee}),this.items_.shop.setCaller({self:this,caller:this._onClickShop})},this._initInfo=function(){this._updateItemList(),this._updateGuangGao()},this._updateItemList=function(){var a=[FIXID.GOLD_1,FIXID.GOLD_2,FIXID.GOLD_3,FIXID.GOLD_4];this.items_.list.setItemCount(a.length);for(var b=0;b<a.length;++b){var c=this.items_.list.getItem(b),d=ItemResUtil.findItemres(a[b]);CommDrawItem.drawItemIconAndName(c.exsubs.icon,c.exsubs.name,d),c.exsubs.buy.setId(d.id),c.exsubs.buy.setCaller({self:this,caller:this._onClickBuy}),c.exsubs.buy.setType(BTN_TYPE.DELAY)}},this._updateGuangGao=function(){var a={qzone:"buygold/yd.gif",3366:"buygold/bd.gif"};a[g_platform]&&IMG.setBKImage(this.items_.guanggao,IMG.makeImg(a[g_platform]))},this._onClickBuy=function(a){ShopSender.sendBuyGold(this.g_,a,1)},this._onClickSee=function(){UIM.getDlg("task").openDlg(),UIM.getDlg("task").selectTask("activity",this._getActPayTaskIdx())},this._onClickShop=function(){UIM.openDlg("shop",0)},this._getActPayTaskIdx=function(){return TQ.find(this.g_.getImgr().getTask().actives,"id",FIXID.FIRST_PAYGOLD),TQ.getLastFindIdx()}})