CreateSubCityDlg=Class.extern(function(){var a=null,b=null,c=null,d={},e=0,f="";this.init=function(c){a=c,b=this},this.openDlg=function(a,b){g(a,b),h(),k()};var g=function(a,b){e=a,f=b},h=function(){if(c)return;i(),j()},i=function(){c=Dialog.snew(a,{modal:!0,title:rstr.createSubCityDlg.title,pos:{x:"center",y:50}}),a.getGUI().initDlg(c,uicfg.createSubCityDlg,d)},j=function(){d.resBtn.setCaller({self:b,caller:l}),d.militaryBtn.setCaller({self:b,caller:m})},k=function(){c.show()},l=function(){n(CITY_TYPE.SUBRES),o()},m=function(){n(CITY_TYPE.SUBARMY),o()},n=function(b){f=="create"?CityBuildSender.sendCreateSubCity(a,e,b):f=="change"&&CityBuildSender.sendChangeSubCity(a,e,b)},o=function(){c.hide()}})