DealByGoldHandler=Class.extern(function(){this._g=null;var a=null;this.init=function(b){this._g=b,a=this,this._g.regEvent(EVT.NET,NETCMD.START_BuyByGold,this,this._onSvrPkg)},this._onSvrPkg=function(b){g_platform=="pengyou"||g_platform=="qzone"?fusion2.dialog.buy({param:b.data.url_params,context:"",onSuccess:function(b){a._onSuccess(b)},onCancel:function(b){a._onCancel(b)},onSend:function(b){a._onSend(b)},onClose:function(b){a._onClose(b)}}):g_platform=="3366"&&Open3366API.Pay.show(g_appid,b.data.url_params,0,rstr.blue3366DiamondDlg.buyGold,this._onClose,this._onSuccess,0,!0)},this._onSuccess=function(a){DealGoldSender.sendResultSucc(this._g),log(" ... buy : onsuccess")},this._onCancel=function(a){DealGoldSender.sendResultCancel(this._g),log(" ... buy : oncancel")},this._onSend=function(a){log(" ... buy : onsend")},this._onClose=function(a){log(" ... buy : onclose")}})