LoginHandler=function(){var a,b;this.initialize=function(f){a=f,b=this,a.regEvent(EVT.NET,NETCMD_SETCLTKEY,b,c),a.regEvent(EVT.NET,NETCMD_RECONNECTED_OK,b,d),a.regEvent(EVT.NET,NETCMD.LOGIN,b,e)};var c=function(b){a.getImgr().getRoleRes().userId=b.data.userId,a.getImgr().getRoleRes().cltKey=b.data.cltKey},d=function(b){UIM.getDlg("waiting").openDlg({tip:rstr_loading.reconnectedok,hideicon:!0,timeout:1}),a.setState(GSTATE.INGAME)},e=function(b){var c=b.data;c.begin?(a.setState(GSTATE.BEGIN),a.setId(c.id)):c.result==0?(a.setKey(c.key),a.setMaxPackLen(c.pkgmaxlen),a.setState(GSTATE.GETDATA)):c.result==1?(a.setKey(c.key),a.setMaxPackLen(c.pkgmaxlen),a.setState(GSTATE.CREATEROLE),a.sendEvent({eid:EVT.LOGIN_OK,sid:1})):c.result==2?(a.setState(GSTATE.STARTGAME),a.sendEvent({eid:EVT.LOGIN_OK,sid:0})):alert("login error data!")};this.initialize.apply(this,arguments)}