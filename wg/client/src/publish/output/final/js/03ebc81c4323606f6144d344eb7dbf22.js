TabPanel=function(){var a,b,c,d,e,f,g={},h=0;this.initialize=function(i,j,k){a=i,b=j,c=-1,h=0,d=this,f=[],e=null,k&&(g=k),g.tabuiback||(g.tabuiback=uiback.btn.tabbtn)},this.hideTabCtrl=function(){TQ.hideElem(b)},this.addTab=function(c,e,i){var j=new ComButton(a,b,{uiback:g.tabuiback});j.setText(c),j.setId(f.length),j.setCaller({self:d,caller:d.activeTab}),j.setType(BTN_TYPE.CHECK),isNull(e)&&(e=null),i||(i={}),f.push({tab:j,panel:e,items:i}),h++},this.showTab=function(a,b){var c=f[a];c.tab[b?"show":"hide"]()},this.setTabPage=function(a,b,c,d){while(a>=f.length)this.addTab("",null);d||(d={});var e=f[a];e.tab.setText(b),e.panel=c,e.items=d},this.setTabText=function(a,b){var c=i(a);if(!c)return;c.tab.setText(b)},this.getTabText=function(a){var b=i(a);return b?b.tab.getText():""},this.getTabBtn=function(a){var b=i(a);return b?b.tab:null},this.getTabItems=function(a){var b=i(a);return b?b.items:null},this.getTabPanel=function(a){var b=i(a);return b?b.panel:null},this.getTabParent=function(){var a=i(0);return a?a.panel.parentNode:null},this.setCaller=function(a){e=a},this.activeTab=function(a){var b=f[a];if(!b.tab.isShow())return;c=a;for(var d in f){var b=f[d],g=d==c;b.tab.setPress(g),b.panel&&TQ.setCSS(b.panel,"visibility",g?"visible":"hidden")}e!=null&&e.caller.call(e.self,c)},this.getActiveTab=function(){return c},this.setTabCount=function(a){h=a;if(a<=f.length){for(var b=0;b<a;++b){var c=f[b];c.tab.show()}for(var b=a;b<f.length;++b){var c=f[b];c.tab.hide()}}else{this.setTabPage(a-1,"..",null,[]);for(var b=0;b<f.length;++b){var c=f[b];c.tab.hide()}}},this.getTabCount=function(){return h},this.uiClass=function(){return"TabPanel"};var i=function(a){return a>=0&&a<f.length?f[a]:null};this.initialize.apply(this,arguments)}