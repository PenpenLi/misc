<!DOCTYPE html>
<!-- saved from url=(0048)https://code.google.com/p/jrfonseca/wiki/DrMingw -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <link rel="canonical" href="http://code.google.com/p/jrfonseca/wiki/DrMingw">
 
 <script src="./dot_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./dot_files/plusone.js" gapi_processed="true"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = "hTjNwawkXNb7JxcuN6Z65xx9_sc:1386121482212";
 
 
 var CS_env = {"assetVersionPath":"https://ssl.gstatic.com/codesite/ph/5697406569990991135","assetHostPath":"https://ssl.gstatic.com/codesite/ph","loggedInUserEmail":"bluedotgame@qq.com","relativeBaseUrl":"","domainName":null,"profileUrl":"/u/100549386894748433753/","projectName":"jrfonseca","token":"hTjNwawkXNb7JxcuN6Z65xx9_sc:1386121482212","projectHomeUrl":"/p/jrfonseca"};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 _gaq.push(
 ['projectTracker._setAccount', 'UA-3224074-1'],
 ['projectTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script type="text/javascript" async="" src="./dot_files/ga.js"></script>
 
 
 <title>DrMingw - 
 jrfonseca -
 
 Dr. Mingw - 
 José Fonseca's utilitities - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="./dot_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="./dot_files/ph_detail.css">
 
 
 
 <link type="application/atom+xml" rel="alternate" href="https://code.google.com/feeds/p/jrfonseca/gitchanges/basic?path=/DrMingw.wiki&repo=wiki">
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/5697406569990991135/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 #maincol {
 padding-top: 0;
 padding-bottom: 0;
 }

 
 </style>
</head>
<body class="t6">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 
 <b>bluedotgame@qq.com</b>
 
 
 | <a href="https://code.google.com/u/100549386894748433753/" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>▼</small></a>
 | <a href="https://code.google.com/u/100549386894748433753/" onclick="_CS_click(&#39;/gb/ph/profile&#39;);" title="Profile, Updates, and Settings"><u>Profile</u></a>
 | <a href="https://www.google.com/accounts/Logout?continue=https%3A%2F%2Fcode.google.com%2Fp%2Fjrfonseca%2Fwiki%2FDrMingw" onclick="_CS_click(&#39;/gb/ph/signout&#39;);"><u>Sign out</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0" itemscope="" itemtype="http://schema.org/CreativeWork">
 <tbody><tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="https://code.google.com/p/jrfonseca">
 <a href="https://code.google.com/p/jrfonseca/">
 
 <img src="./dot_files/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="https://code.google.com/p/jrfonseca/"><span itemprop="name">jrfonseca</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="https://code.google.com/p/jrfonseca/"><span itemprop="description">José Fonseca's utilitities</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="https://code.google.com/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="https://code.google.com/p/jrfonseca/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="https://code.google.com/p/jrfonseca/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jrfonseca/w/list" class="tab active">Wiki</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jrfonseca/issues/list" class="tab ">Issues</a>
 
 
 
 
 
 <a href="https://code.google.com/p/jrfonseca/source/checkout" class="tab ">Source</a>
 
 
 
 
 
 
 
 
 <div class="gtbc"></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tbody><tr>
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 <span class="inIssueList"> 
 <span>Search</span>
 <form action="https://code.google.com/p/jrfonseca/w/list" method="GET" style="display:inline">
 <select id="can" name="can">
 <option disabled="disabled">Search within:</option>
 
 <option value="1">&nbsp;All wiki pages</option>
 <option value="3">&nbsp;Featured pages</option>
 <option value="2" selected="selected">&nbsp;Current pages</option>
 
 
 <option value="5">&nbsp;My starred pages</option>
 
 <option value="4">&nbsp;Deprecated pages</option>
 
 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q" value="" autocomplete="off"></span>
 
 
 
 <input type="submit" value="Search">
 </form>
 </span>

 
 
 
 
 
 
 

</div>
</div>

 </td>
 
 
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 







 <style type="text/css">
 .delcom { background: #e8e8e8 }
 .commentcontent {
 margin: 2em;
 padding: 0px 10px;
 width: 66em;
 }
 .artifactcomment {
 border-top: 3px solid #c3d9ff;
 }
 #commentform {
 border-top: 3px solid #c3d9ff;
 }
 </style>

<div id="wikipage">
<table>
 <tbody><tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 <div id="wikiheader">
 
 <img width="15" height="15" id="star_img" src="./dot_files/star_off.gif" style="cursor:pointer" onclick="_CS_toggleStar(this,
 {&#39;scope&#39;: &#39;wiki&#39;,
 &#39;user&#39;: &#39;_CURRENT_USER&#39;,
 &#39;item&#39;: &#39;jrfonseca:DrMingw&#39;
 });">
 
 <span style="font-size:120%;font-weight:bold">DrMingw</span>
 &nbsp;
 <div> 
 
 <i>Dr. Mingw</i>
 
 
 <br>
 
 <a class="label" style="padding-top: 2px" href="https://code.google.com/p/jrfonseca/w/list?q=label:C" title="">C</a>, 
 
 <a class="label" style="padding-top: 2px" href="https://code.google.com/p/jrfonseca/w/list?q=label:Featured" title="Listed on project home page">Featured</a>
 
 
 
 <div id="wikiauthor" style="float:right">
 Updated <span title="Fri Jun 28 07:39:53 2013">
 Jun 28, 2013</span>
 
 by 

 <a class="userlink" href="https://code.google.com/u/117198003308355234052/">Jose.R.F...@gmail.com</a>
 
 </div>
 </div>
 </div>
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <p></p><ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#About">About</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Features">Features</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Recent_changes">Recent changes</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Download">Download</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Installation">Installation</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Usage">Usage</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Command_Line_Options">Command Line Options</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#MgwHelp">MgwHelp</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#ExcHndl_DLL">ExcHndl DLL</a></li><ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Usage">Usage</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Example">Example</a></li></ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Frequently_Asked_Questions">Frequently Asked Questions</a></li><ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Why_do_I_get_a_different_stack_trace_from_your_example?">Why do I get a different stack trace from your example?</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Which_options_should_I_pass_to_gcc_when_compiling?">Which options should I pass to gcc when compiling?</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Why_are_the_reported_source_lines_always_after_the_call?">Why are the reported source lines always after the call?</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Where_should_I_put_the_.PDB_files?">Where should I put the .PDB files?</a></li></ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Links">Links</a></li><ul><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Related_tools">Related tools</a></li><li><a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Suggested_Reading">Suggested Reading</a></li></ul></ul> <p></p><h1><a name="About"></a>About<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#About" class="section_anchor"></a></h1><p>Dr. Mingw is a <i>Just-in-Time (JIT)</i> debugger. When the application throws an unhandled exception, Dr. Mingw attaches itself to the application and collects information about the exception, using the available debugging information. </p><h1><a name="Features"></a>Features<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Features" class="section_anchor"></a></h1><p>Dr. Mingw can read debugging information in <i>DWARF</i> and <i>Stabs</i> formats — generated by the Gnu C/C++ Compiler, and in a PDB file — generated by the Microsoft Visual C++ Compiler. </p><p>Windows XP or later is required.  It relies upon the <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms679294.aspx" rel="nofollow">DbgHelp library</a> to resolve symbols in modules compiled by the Microsoft tools. </p><h1><a name="Recent_changes"></a>Recent changes<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Recent_changes" class="section_anchor"></a></h1><ul><li><strong>2013-06-25, version 0.6.1</strong>: </li><ul><li>several bug fixes </li></ul><li><strong>2013-06-20, version 0.6.0</strong>: </li><ul><li>use libdwarf (binutils/BFD is now optional) </li><li>64-bits support </li></ul><li><strong>2013-05-20, version 0.5.1</strong>: </li><ul><li>Update to binutils-2.23.2 (DWARF support) </li><li>Use dbghelp.dll instead of imagehlp.dll </li></ul><li><strong>2009-03-21, version 0.4.4</strong>: </li><ul><li>Update to binutils 2.18 </li></ul><li><strong>2003-11-25, version 0.4.3</strong> </li></ul><p>Detailed change log available <a href="https://code.google.com/p/jrfonseca/source/list?repo=drmingw" rel="nofollow">here</a>. </p><h1><a name="Download"></a>Download<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Download" class="section_anchor"></a></h1><p>Dr. Mingw can be downloaded <a href="http://code.google.com/p/jrfonseca/downloads/list?q=drmingw" rel="nofollow">here</a>. </p><p>Git repository available <a href="http://code.google.com/p/jrfonseca/source/checkout?repo=drmingw" rel="nofollow">here</a> </p><h1><a name="Installation"></a>Installation<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Installation" class="section_anchor"></a></h1><p>Currently you will need to download and install the 32 bits version in order to debug 32 bits applications, and also the 64 bits version if you want to debug 64 bits applications. </p><p>To install enter </p><p></p><pre class="prettyprint lang-shell"><span class="pln">&nbsp;drmingw </span><span class="pun">-</span><span class="pln">i<br>&nbsp;</span></pre> <p></p><p>Dr. Mingw will register itself as the JIT debugger by writting into the system registry. Make sure you have Administrator rights. See <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb204634.aspx" rel="nofollow">this page</a> for more information on how this works. </p><p>If the installation is sucessful, the following message box should appear: </p><p><img src="./dot_files/drmingw-install.png"> </p><p>To enable other options they must be set them allong with the <strong>-i</strong> option. For example, </p><p></p><pre class="prettyprint lang-shell"><span class="pln">&nbsp;drmingw </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">v<br>&nbsp;</span></pre> <p></p><h1><a name="Usage"></a>Usage<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Usage" class="section_anchor"></a></h1><p>You can easily try Dr. Mingw by building and running the included sample. Depending of your Windows version, you'll see a familiar dialog: </p><p><img src="./dot_files/drmingw-exception.png"> </p><p>If you request to debug the program, Dr. Mingw will attach to the faulting application, collect information about the exception, and display the dialog </p><p><img src="./dot_files/drmingw-sample.png"> </p><p>To resolve the addresses it's necessary to compile the application with debugging information. In case of address is in a DLL with no debugging information, it will resolve to the precedent exported symbol. </p><h1><a name="Command_Line_Options"></a>Command Line Options<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Command_Line_Options" class="section_anchor"></a></h1><p>The following table describes the Dr. Mingw command-line options.  All comand-line options are case-sensitive. </p><p></p><table class="wikitable"><tbody><tr><td style="border: 1px solid #ccc; padding: 5px;"> Option </td><td style="border: 1px solid #ccc; padding: 5px;">  </td><td style="border: 1px solid #ccc; padding: 5px;"> Action </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-h</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--help</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Print help and exit </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-V</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--version</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Print version and exit </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-i</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--install</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Install as the default JIT debugger </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-a</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--auto</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Automatically start (used with <strong>-i</strong> | <strong>--install</strong>) </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-u</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--uninstall</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Uninstall </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-p</strong> <i>pid</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--process-id=</strong><i>pid</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> Attach to the process with the given identifier </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-e</strong> <i>event</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--event=</strong><i>event</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> Signal an event after process is attached </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-b</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--breakpoints</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Treat breakpoints as exceptions </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>-v</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>--verbose</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> Verbose output </td></tr> </tbody></table><p></p><h1><a name="MgwHelp"></a>MgwHelp<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#MgwHelp" class="section_anchor"></a></h1><p>The MgwHelp library aims to be a drop-in replacement for the DbgHelp library, that understand MinGW symbols.  It provides the same interface as DbgHelp library, but it is able to read the debug information produced by MinGW compilers/linkers. </p><p>MgwHelp is used by Dr.MinGW and ExcHndl below to lookup symbols. </p><p>But the hope is that it will eventually be used by third-party Windows development tools (like debuggers, profilers, etc.) to easily resolve symbol on binaries produced by the MinGW toolchain. </p><p>MgwHelp relies on <a href="http://reality.sgiweb.org/davea/dwarf.html" rel="nofollow">libdwarf</a> to read DWARF debugging information.  It can optionally also use BFD to read stabs debugging information. </p><p><strong>NOTE: It's still under development, and only exports a limited number of symbols. So it's not generally useful yet</strong> </p><h1><a name="ExcHndl_DLL"></a>ExcHndl DLL<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#ExcHndl_DLL" class="section_anchor"></a></h1><p>The <tt>exchndl.dll</tt> is a embeddable exception handler.  It produces the similar output to Dr. Mingw, but it can be bundled into your applications.  The exception handling routine runs in the same process context of the faulting application. </p><p>If you deploy ExcHndl together your own programs you can have almost the same exception information that you would get with Dr. Mingw, but with no need for the end user to install Dr. Mingw installed. </p><h2><a name="Usage"></a>Usage<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Usage" class="section_anchor"></a></h2><p>You can use ExcHndl by: </p><ul><li>including <tt>mgwhelp.dll</tt> and <tt>exchndl.dll</tt> with your application binaries </li><li>and loading <tt>exchndl.dll</tt> when your application starts, either by </li><ul><li>compiling and linking <tt>exchndl2.cxx</tt> source file </li><li>or by explicitly calling </li></ul></ul><p></p><pre class="prettyprint lang-C"><span class="pln">&nbsp;</span><span class="typ">LoadLibrary</span><span class="pun">(</span><span class="str">"exchndl.dll"</span><span class="pun">);</span><span class="pln"><br>&nbsp;</span></pre> <p></p><h2><a name="Example"></a>Example<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Example" class="section_anchor"></a></h2><p>The sample<tt> sample.exe</tt> application uses the second method above. Copy <tt>mgwhelp.dll</tt> and <tt>exchndl.dll</tt> to executable directory. When you run it, even before general protection fault dialog box appears, it's written to the <tt>sample.RPT</tt> file a report of the fault. </p><p>Here is how <tt>sample.RPT</tt> should look like: </p><p></p><pre> -------------------<p></p><p>Error occured on Tuesday, June 25, 2013 at 08:18:51.
 </p><p>z:\projects\drmingw\sample\sample.exe caused an Access Violation at location 74D2ECC0 in module C:\Windows\syswow64\msvcrt.dll Writing to location 00000001.
 </p><p>Registers:
 eax=00003039 ebx=00000064 ecx=00000001 edx=0028fe50 esi=00003039 edi=0000006f
 eip=74d2ecc0 esp=0028fc5c ebp=0028fe30 iopl=0         nv up ei pl nz na pe nc
 cs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010202
 </p><p>AddrPC   Params
 74D2ECC0 0028FE50 00403064 00000000  msvcrt.dll!_strxfrm_l
 74D2EDC8 74D2E991 00403064 00000000  msvcrt.dll!sscanf
 74D2ED67 00403067 00403064 00000001  msvcrt.dll!sscanf
 004013DE 00000008 60000000 40166666  sample.exe!Function  [z:\projects\drmingw\sample/sample.cxx @ 12]
 00401D3E 00000004 40B33333 0028FF08  sample.exe!Class::StaticMethod(int, float)  [z:\projects\drmingw\sample/sample.cxx @ 17]
 00401D5E 00401970 00714458 0000000C  sample.exe!Class::Method()  [z:\projects\drmingw\sample/sample.cxx @ 21]
 004013F9 00000001 00572F38 00571B38  sample.exe!main  [z:\projects\drmingw\sample/sample.cxx @ 27]
 004010FD 7EFDE000 F769D382 00000000  sample.exe
 77269F42 00401280 7EFDE000 00000000  ntdll.dll!RtlInitializeExceptionChain 77269F15 00401280 7EFDE000 00000000  ntdll.dll!RtlInitializeExceptionChain </p></pre> <p></p><h1><a name="Frequently_Asked_Questions"></a>Frequently Asked Questions<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Frequently_Asked_Questions" class="section_anchor"></a></h1><h2><a name="Why_do_I_get_a_different_stack_trace_from_your_example?"></a>Why do I get a different stack trace from your example?<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Why_do_I_get_a_different_stack_trace_from_your_example?" class="section_anchor"></a></h2><p>Make sure you don't use Dr.Mingw and exchndl at the same time -- the latter seems to interfere with the former by some obscure reason. </p><h2><a name="Which_options_should_I_pass_to_gcc_when_compiling?"></a>Which options should I pass to gcc when compiling?<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Which_options_should_I_pass_to_gcc_when_compiling?" class="section_anchor"></a></h2><p>This options are <i>essential</i> to produce suitable results are: </p><ul><li><strong><tt>-g</tt></strong> : produce debugging information </li><li><strong><tt>-fno-omit-frame-pointer</tt></strong> : use the frame pointer (frame pointer usage is disabled by default in some architectures like x86_64 and for some optimization levels; and it may be impossible to walk the call stack without it) </li></ul><p></p><p>You can choose more detailed debug info, e.g., <tt>-g3</tt>, <tt>-ggdb</tt>. But so far I have seen no evidence this will lead to better results, at least as far as Dr.MinGW is concerned. </p><h2><a name="Why_are_the_reported_source_lines_always_after_the_call?"></a>Why are the reported source lines always after the call?<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Why_are_the_reported_source_lines_always_after_the_call?" class="section_anchor"></a></h2><p>Callers put the <i>return</i> IP address on the stack. Therefore the source lines we get when looking the address is not the line of the call, but instead the line of the instruction immediately succeeding the call.  </p><h2><a name="Where_should_I_put_the_.PDB_files?"></a>Where should I put the <strong>.PDB files?<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Where_should_I_put_the_.PDB_files?" class="section_anchor"></a></strong></h2><p><strong>Dr. Mingw uses DbgHelp to handle .PDB files so it has the same behavior  </strong></p><p>If you test on the machine you built, you typically need to do nothing. Otherwise you'll need to tell where your .PDBs are trhough the <tt>_NT_SYMBOL_PATH</tt> environment variable, using the syntax described <a href="http://msdn.microsoft.com/en-us/library/windows/hardware/ff558829.aspx" rel="nofollow">here</a>. </p><h1><a name="Links"></a>Links<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Links" class="section_anchor"></a></h1><h2><a name="Related_tools"></a>Related tools<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Related_tools" class="section_anchor"></a></h2><ul><li><a href="http://code.google.com/p/backtrace-mingw/" rel="nofollow">http://code.google.com/p/backtrace-mingw/</a> </li><li><a href="http://sourceware.org/binutils/docs/binutils/addr2line.html" rel="nofollow">binutil's addr2line</a> (included in MinGW) </li></ul><h2><a name="Suggested_Reading"></a>Suggested Reading<a href="https://code.google.com/p/jrfonseca/wiki/DrMingw#Suggested_Reading" class="section_anchor"></a></h2><ul><li><a href="http://www.microsoft.com/msj/0197/exception/exception.htm" rel="nofollow">A Crash Course on the Depths of Win32 Structured Exception Handling, MSJ January 1997</a> </li><li><a href="http://www.microsoft.com/msj/0497/hood/hood0497.htm" rel="nofollow">MSJEXHND - Part 1, Under the Hood, MSJ April 1997</a> </li><li><a href="http://www.microsoft.com/msj/0597/hood0597.htm" rel="nofollow">MSJEXHND - Part 2, Under the Hood, MSJ May 1997</a> </li><li><a href="http://www.microsoft.com/msj/0898/bugslayer0898.htm" rel="nofollow">Bugslayer, MSJ, August 1998</a> </li><li><a href="http://msdn.microsoft.com/library/techart/msdn_debug.htm" rel="nofollow">The Win32 Debugging Application Programming Interface</a> </li></ul>
 </div>
 </div>
 </td></tr><tr>
</tr></tbody></table>
 </div>


 
 <div id="wikicommentcol">
 


 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

<div class="collapse">


 


<div id="commentlist">

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/rogerpack2005/">rogerpack2005</a>,
 
 </span>
 <span class="date" title="Wed May 27 13:13:45 2009">May 27, 2009</span>
 <div>
<div class="commentcontent">
<p>thanks for building that. </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/118070201648256539804/">RegularJ...@gmail.com</a>,
 
 </span>
 <span class="date" title="Wed Mar 17 01:41:13 2010">Mar 17, 2010</span>
 <div>
<div class="commentcontent">
<p>This saved my life. Thanks a lot and keep going. Cheers, Paulo </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/103411922306696126416/">w.wamm...@googlemail.com</a>,
 
 </span>
 <span class="date" title="Mon Jul 11 01:48:55 2011">Jul 11, 2011</span>
 <div>
<div class="commentcontent">
<p>This is a really useful tool, thanks. Will you please add details to the wiki about the license for each module (including exchndll)? </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/102297148137866504553/">andrew.n...@gmail.com</a>,
 
 </span>
 <span class="date" title="Tue Aug 16 14:48:42 2011">Aug 16, 2011</span>
 <div>
<div class="commentcontent">
<p>Looks really great.. but seems there's no exchndl.dll binary in downloads.. will it be included in some release or we just need to make it by oureselves?.. and also licensing is interesting is such situation. Thanks, Andrew </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/104141982253554083999/">jonathan...@googlemail.com</a>,
 
 </span>
 <span class="date" title="Tue Nov 12 10:20:16 2013">Nov 12, 2013</span>
 <div>
<div class="commentcontent">
<p>Tried a few debuggers and this was the only one that gave me the vital clue as to what was going wrong. Finally my program is stable. Keep up the very great work and thank you! </p>
</div>
 
 
 </div>
 </div>
 

 
 <div class="artifactcomment">
 
 
 
 
 <div style="float:right; margin-right:.3em; text-align:right">
 
 <a style="font-size: 90%" href="https://code.google.com/p/jrfonseca/wiki/DrMingw#" onclick="return delComment(&#39;5&#39;, &#39;1386121481746000&#39;, &#39;1&#39;)">Delete comment</a>
 
 </div>
 
 
 
 <span class="author">Comment
 
 by 
 
 

 <a class="userlink" href="https://code.google.com/u/100549386894748433753/">bluedotg...@qq.com</a>,
 
 </span>
 <span class="date" title="Tue Dec  3 17:44:41 2013">Today (moments ago)</span>
 <div>
<div class="commentcontent">
<p>thank you very much! very useful tool! </p>
</div>
 
 
 </div>
 </div>
 

</div>
</div>

 


 <script type="text/javascript">
 function delComment(sequence_num, create_time, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.create_time.value = create_time;
 f.mode.value = delete_mode;
 f.submit();
 return false;
 }
 </script>


 </div>
 
 
 
 
 
 <div id="commentform">
 <form action="https://code.google.com/p/jrfonseca/w/detail.do" method="post">
 <table>
 <tbody><tr><td class="vt">
 <input type="hidden" name="pagename" value="DrMingw">
 <input type="hidden" name="token" value="hTjNwawkXNb7JxcuN6Z65xx9_sc:1386121482212">
 <div class="graytext" style="float: right;">
 Hint: You can use <a href="http://code.google.com/p/support/wiki/WikiSyntax">Wiki Syntax.</a>
 </div>
 <div>Enter a comment:</div>
 <textarea name="content" rows="6" cols="100"></textarea><br><br>
 <input type="submit" name="submit" value="Submit">
 </td>
 </tr></tbody></table>
 </form>
 </div>
 
 
 
 
 
 <form name="delcom" action="https://code.google.com/p/jrfonseca/w/delComment.do" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="create_time" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="pagename" value="DrMingw">
 <input type="hidden" name="token" value="hTjNwawkXNb7JxcuN6Z65xx9_sc:1386121482212">
 </form>


 <script src="./dot_files/prettify.js"></script>
 <script type="text/javascript">
 prettyPrint();
 </script>

<script type="text/javascript" src="./dot_files/dit_scripts.js"></script>



  
 
 
 <script type="text/javascript" src="./dot_files/ph_core.js"></script>
 
 <script type="text/javascript" src="./dot_files/ph_dwiki.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="https://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="https://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 



<div class="menuDiv instance0" id="menuDiv-projects-dropdown" style="position: absolute; top: 19px; left: 1224px; display: none;"><div class="menuCategory default" style="display: none;"></div><div class="menuCategory controls first"><hr class="menuSeparator"><a class="menuItem" href="https://code.google.com/hosting/" style="display: block;">Find open source projects...</a><a class="menuItem" href="https://code.google.com/hosting/createProject" style="display: block;">Create a project...</a></div></div></body></html>